(this.webpackJsonpcpu4youu=this.webpackJsonpcpu4youu||[]).push([[0],{198:function(e,t,n){},199:function(e,t,n){},285:function(e,t){},286:function(e,t){},288:function(e,t){},300:function(e,t){},306:function(e,t){},308:function(e,t){},318:function(e,t){},320:function(e,t){},347:function(e,t){},349:function(e,t){},354:function(e,t){},356:function(e,t){},362:function(e,t){},364:function(e,t){},376:function(e,t){},379:function(e,t){},409:function(e,t,n){"use strict";n.r(t);var c=n(12),r=n.n(c),a=n(103),o=n.n(a),s=(n(198),n(199),n(23)),i=n(40),u=n(6),l=n.n(u),j=n(10),b=n(185),p=n(9),d=new b.JsonRpc("https://testnet.wax.eosdetroit.io",{fetch:fetch}),x=function(e){var t,n=e.ual,r=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={actions:[{account:"eosio.token",name:"transfer",data:{from:n.activeUser.accountName,to:"cpu4",quantity:parseFloat(J).toFixed(8)+" WAX",memo:C+""},authorization:[{actor:n.activeUser.accountName,permission:"active"}]}]},e.prev=1,e.next=4,n.activeUser.signTransaction(t,{blocksBehind:5,expireSeconds:300,broadcast:!0,sign:!0});case 4:c=e.sent,console.log(c),alert("Transaction ID: "+c.transactionId),W(1),E(0),z(0),G(""),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0),alert(e.t0),console.log(JSON.stringify(e.t0));case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={actions:[{account:"eosio.token",name:"transfer",data:{from:n.activeUser.accountName,to:"cpu4",quantity:parseFloat(J).toFixed(8)+" WAX",memo:"USER:"+M+","+C},authorization:[{actor:n.activeUser.accountName,permission:"active"}]}]},e.prev=1,e.next=4,n.activeUser.signTransaction(t,{blocksBehind:5,expireSeconds:300,broadcast:!0,sign:!0});case 4:c=e.sent,console.log(c),alert("Transaction ID: "+c.transactionId),W(1),E(0),z(0),G(""),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0),alert(e.t0),console.log(JSON.stringify(e.t0));case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={actions:[{account:"free.cpu4",name:"getcpu",data:{username:M},authorization:[{actor:n.activeUser.accountName,permission:"active"}]}]},e.prev=1,e.next=4,n.activeUser.signTransaction(t,{blocksBehind:5,expireSeconds:300,broadcast:!0,sign:!0});case 4:c=e.sent,console.log(c),alert("Transaction ID: "+c.transactionId),W(1),E(0),z(0),G(""),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0),alert(e.t0),console.log(JSON.stringify(e.t0));case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={actions:[{account:"eosio.token",name:"transfer",data:{from:n.activeUser.accountName,to:"cpu4",quantity:parseFloat(J).toFixed(8)+" WAX",memo:"Deposit"},authorization:[{actor:n.activeUser.accountName,permission:"active"}]}]},e.prev=1,e.next=4,n.activeUser.signTransaction(t,{blocksBehind:5,expireSeconds:300,broadcast:!0,sign:!0});case 4:c=e.sent,console.log(c),alert("Transaction ID: "+c.transactionId),W(1),E(0),z(0),G(""),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0),alert(e.t0),console.log(JSON.stringify(e.t0));case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={actions:[{account:"cpu4",name:"updateBalance",data:{username:n.activeUser.accountName},authorization:[{actor:n.activeUser.accountName,permission:"active"}]}]},e.prev=1,e.next=4,n.activeUser.signTransaction(t,{blocksBehind:5,expireSeconds:300,broadcast:!0,sign:!0});case 4:c=e.sent,console.log(c),alert("Transaction ID: "+c.transactionId),W(1),E(0),z(0),G(""),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0),alert(e.t0),console.log(JSON.stringify(e.t0));case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={actions:[{account:"cpu4",name:"withdraw",data:{username:n.activeUser.accountName,amount:parseFloat(J).toFixed(8)+" WAX"},authorization:[{actor:n.activeUser.accountName,permission:"active"}]}]},e.prev=1,e.next=4,n.activeUser.signTransaction(t,{blocksBehind:5,expireSeconds:300,broadcast:!0,sign:!0});case 4:c=e.sent,console.log(c),alert("Transaction ID: "+c.transactionId),W(1),E(0),z(0),G(""),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0),alert(e.t0),console.log(JSON.stringify(e.t0));case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),h="Request Self Stake",v="Stake To User",f="Get Free CPU",O="Deposit And Earn",g="Update Balance",m="Withdraw",w=(t={},Object(i.a)(t,h,r),Object(i.a)(t,v,a),Object(i.a)(t,f,o),Object(i.a)(t,O,u),Object(i.a)(t,g,b),Object(i.a)(t,m,x),t),y=Object(c.useState)(),k=Object(s.a)(y,2),S=k[0],U=k[1],A=Object(c.useState)(h),N=Object(s.a)(A,2),_=N[0],F=N[1],I=Object(c.useState)(1),T=Object(s.a)(I,2),C=T[0],W=T[1],B=Object(c.useState)(0),D=Object(s.a)(B,2),J=D[0],E=D[1],L=Object(c.useState)(0),X=Object(s.a)(L,2),q=X[0],z=X[1],P=Object(c.useState)(""),R=Object(s.a)(P,2),M=R[0],G=R[1],H=Object(c.useState)(0),K=Object(s.a)(H,2),Q=K[0],V=K[1],Y=Object(c.useState)(),Z=Object(s.a)(Y,2),$=Z[0],ee=Z[1];Object(c.useEffect)((function(){var e=setInterval(Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("FETCH"),e.next=3,d.get_table_rows({json:!0,code:"cpu4",scope:"cpu4",table:"config",limit:1,reverse:!1,show_payer:!1});case 3:return t=e.sent,e.next=6,d.get_table_rows({json:!0,code:"cpu4",scope:"cpu4",table:"deposits",limit:1e3,reverse:!1,show_payer:!1});case 6:n=e.sent,ee({r1:t,r2:n});case 8:case"end":return e.stop()}}),e)}))),5e3);return function(){return clearInterval(e)}}),[]);var te=function(){var e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get_table_rows({json:!0,code:"cpu4",scope:"cpu4",table:"config",limit:1,reverse:!1,show_payer:!1});case 2:return t=e.sent,e.next=5,d.get_table_rows({json:!0,code:"cpu4",scope:"cpu4",table:"deposits",limit:1e3,reverse:!1,show_payer:!1});case 5:n=e.sent,ee({r1:t,r2:n});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){var e=function(){var e=Object(j.a)(l.a.mark((function e(){var t,n,c,r,a,o,s,i,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{for(t=$.r1,console.log(t.rows[0]),n=parseFloat(t.rows[0].exponent),c=parseFloat(t.rows[0].total_wax),r=parseFloat(t.rows[0].current_loaned),a=parseFloat(t.rows[0].multi_day_fee),J&&J>0?((o=100*Math.pow(1-r/c,n))<10&&(o=10),s=o*(1-a*(C-1))*(J/C),console.log(s),z(s)):z(0),i=$.r2,V("0 WAX"),u=0;u<i.rows.length;u++)i.rows[u].account===S.account_name&&V(i.rows[u].wax)}catch(l){console.error(l),console.log(JSON.stringify(l))}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[J,C,$,S]),Object(c.useEffect)((function(){var e=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.activeUser){e.next=13;break}return e.prev=1,e.next=4,d.get_account(n.activeUser.accountName);case 4:t=e.sent,U(t),te(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),console.log(JSON.stringify(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[n.activeUser]);var ne=function(){n.activeUser||n.showModal()},ce=function(){return _===h?Object(p.jsx)("table",{style:{margin:"auto",borderSpacing:"12px 12px",textAlign:"left"},children:Object(p.jsxs)("tbody",{children:[oe(),ae(),ue()]})}):_===v?Object(p.jsx)("table",{style:{margin:"auto",borderSpacing:"12px 12px",textAlign:"left"},children:Object(p.jsxs)("tbody",{children:[oe(),ae(),re(),ue()]})}):_===f?Object(p.jsx)("table",{style:{margin:"auto",borderSpacing:"12px 12px",textAlign:"left"},children:Object(p.jsx)("tbody",{children:re()})}):_===O?Object(p.jsx)("table",{style:{margin:"auto",borderSpacing:"12px 12px",textAlign:"left"},children:Object(p.jsx)("tbody",{children:oe()})}):_===g?Object(p.jsx)("table",{style:{margin:"auto",borderSpacing:"12px 12px",textAlign:"left"},children:Object(p.jsx)("tbody",{children:se()})}):_===m?Object(p.jsx)("table",{style:{margin:"auto",borderSpacing:"12px 12px",textAlign:"left"},children:Object(p.jsx)("tbody",{children:ie()})}):void 0},re=function(){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{style:{textAlign:"right"},children:"User to stake to"}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{style:{width:"120px"},type:"text",value:M,onChange:function(e){return G(e.target.value)}})})]})},ae=function(){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{style:{textAlign:"right"},children:"Number of days"}),Object(p.jsx)("td",{children:Object(p.jsxs)("select",{value:C,onChange:function(e){return W(e.target.value)},children:[Object(p.jsx)("option",{value:1,children:"1"}),Object(p.jsx)("option",{value:2,children:"2"}),Object(p.jsx)("option",{value:3,children:"3"}),Object(p.jsx)("option",{value:4,children:"4"}),Object(p.jsx)("option",{value:5,children:"5"}),Object(p.jsx)("option",{value:6,children:"6"}),Object(p.jsx)("option",{value:7,children:"7"}),Object(p.jsx)("option",{value:8,children:"8"}),Object(p.jsx)("option",{value:9,children:"9"}),Object(p.jsx)("option",{value:10,children:"10"}),Object(p.jsx)("option",{value:11,children:"11"}),Object(p.jsx)("option",{value:12,children:"12"}),Object(p.jsx)("option",{value:13,children:"13"}),Object(p.jsx)("option",{value:14,children:"14"})]})})]})},oe=function(){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{style:{textAlign:"right"},children:"Amount to send"}),Object(p.jsxs)("td",{children:[Object(p.jsx)("input",{style:{width:"60px"},type:"number",value:J,onChange:function(e){return E(e.target.value)}})," ","WAX"]})]})},se=function(){return Object(p.jsx)("tr",{})},ie=function(){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{style:{textAlign:"right"},children:"Amount to withdraw"}),Object(p.jsxs)("td",{children:[Object(p.jsx)("input",{style:{width:"60px"},type:"number",value:J,onChange:function(e){return E(e.target.value)}})," ","WAX"]})]})},ue=function(){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{style:{textAlign:"right"},children:"Amount to be staked"}),Object(p.jsxs)("td",{children:[q.toLocaleString()," WAX"]})]})},le=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("button",{onClick:function(){return w[_].call()},children:_})})};return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"CPU 4 SALE"}),n.activeUser&&n.activeUser&&S?Object(p.jsxs)("div",{children:[n.activeUser.accountName," ",Object(p.jsx)("br",{}),"Current Balance: ",S.core_liquid_balance,Object(p.jsx)("br",{})]}):null,n.activeUser&&n.activeUser&&S?Object(p.jsxs)("div",{children:["Deposited: ",Q,Object(p.jsx)("br",{})]}):null,n.activeUser?function(){if(n.activeUser&&n.activeAuthenticator)return Object(p.jsxs)("div",{children:[Object(p.jsx)("br",{}),Object(p.jsx)("button",{onClick:n.logout,children:"Logout"}),Object(p.jsx)("br",{})]})}():Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{onClick:ne,children:"Login"}),Object(p.jsx)("br",{})]}),n.activeUser?Object(p.jsxs)("div",{children:[Object(p.jsx)("br",{}),Object(p.jsxs)("select",{value:_,onChange:function(e){return F(e.target.value)},children:[Object(p.jsx)("option",{value:h,children:h}),Object(p.jsx)("option",{value:v,children:v}),Object(p.jsx)("option",{value:f,children:f}),Object(p.jsx)("option",{value:O,children:O}),Object(p.jsx)("option",{value:g,children:g}),Object(p.jsx)("option",{value:m,children:m})]}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),ce(),Object(p.jsx)("br",{}),le()]}):null,Object(p.jsx)("br",{}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"How it works:"}),Object(p.jsx)("h4",{children:"Requesting Wax:"}),Object(p.jsx)("p",{children:"1. Send wax"}),Object(p.jsx)("p",{children:"2. ????????"}),Object(p.jsx)("h4",{children:"Depositing Wax:"}),Object(p.jsx)("p",{children:"3. Get steak"})]})]})};var h=function(e){var t=e.ual;return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(x,{ual:t})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,411)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))},f=n(104),O=n(188),g=n(191),m={chainId:"f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12",rpcEndpoints:[{protocol:"https",host:"testnet.wax.eosdetroit.io",port:"443"}]},w=new O.Anchor([m],{appName:"cpu4"}),y=new g.Wax([m],{appName:"cpu4"}),k=Object(f.withUAL)(h);o.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(f.UALProvider,{chains:[m],authenticators:[w,y],appName:"cpu4",children:Object(p.jsx)(k,{})})}),document.getElementById("root")),v()}},[[409,1,2]]]);
//# sourceMappingURL=main.ecfdb2b7.chunk.js.map