(this.webpackJsonpcpu4youu=this.webpackJsonpcpu4youu||[]).push([[0],{198:function(e,t,n){},199:function(e,t,n){},285:function(e,t){},286:function(e,t){},288:function(e,t){},300:function(e,t){},306:function(e,t){},308:function(e,t){},318:function(e,t){},320:function(e,t){},347:function(e,t){},349:function(e,t){},354:function(e,t){},356:function(e,t){},362:function(e,t){},364:function(e,t){},376:function(e,t){},379:function(e,t){},409:function(e,t,n){"use strict";n.r(t);var c=n(12),r=n.n(c),a=n(103),o=n.n(a),s=(n(198),n(199),n(23)),i=n(42),u=n(6),l=n.n(u),j=n(10),b=n(185),d=n(9),p=new b.JsonRpc("https://testnet.wax.eosdetroit.io",{fetch:fetch}),x=function(e){var t,n=e.ual,r=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={actions:[{account:"eosio.token",name:"transfer",data:{from:n.activeUser.accountName,to:"cpu4",quantity:E.toFixed(8)+" WAX",memo:_+""},authorization:[{actor:n.activeUser.accountName,permission:"active"}]}]},e.prev=1,e.next=4,n.activeUser.signTransaction(t,{blocksBehind:5,expireSeconds:300,broadcast:!0,sign:!0});case 4:c=e.sent,console.log(c),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),console.log(JSON.stringify(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={actions:[{account:"eosio.token",name:"transfer",data:{from:n.activeUser.accountName,to:"cpu4",quantity:E.toFixed(8)+" WAX",memo:"USER:"+P+","+_},authorization:[{actor:n.activeUser.accountName,permission:"active"}]}]},e.prev=1,e.next=4,n.activeUser.signTransaction(t,{blocksBehind:5,expireSeconds:300,broadcast:!0,sign:!0});case 4:c=e.sent,console.log(c),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),console.log(JSON.stringify(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={actions:[{account:"eosio.token",name:"transfer",data:{from:n.activeUser.accountName,to:"cpu4",quantity:E.toFixed(8)+" WAX",memo:"Deposit"},authorization:[{actor:n.activeUser.accountName,permission:"active"}]}]},e.prev=1,e.next=4,n.activeUser.signTransaction(t,{blocksBehind:5,expireSeconds:300,broadcast:!0,sign:!0});case 4:c=e.sent,console.log(c),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),console.log(JSON.stringify(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={actions:[{account:"cpu4",name:"updateBalance",data:{username:n.activeUser.accountName},authorization:[{actor:n.activeUser.accountName,permission:"active"}]}]},e.prev=1,e.next=4,n.activeUser.signTransaction(t,{blocksBehind:5,expireSeconds:300,broadcast:!0,sign:!0});case 4:c=e.sent,console.log(c),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),console.log(JSON.stringify(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={actions:[{account:"cpu4",name:"withdraw",data:{username:n.activeUser.accountName,amount:E.toFixed(8)+" WAX"},authorization:[{actor:n.activeUser.accountName,permission:"active"}]}]},e.prev=1,e.next=4,n.activeUser.signTransaction(t,{blocksBehind:5,expireSeconds:300,broadcast:!0,sign:!0});case 4:c=e.sent,console.log(c),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),console.log(JSON.stringify(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),x="Request Self Stake",h="Stake To User",O="Deposit And Earn",f="Update Balance",v="Withdraw",g=(t={},Object(i.a)(t,x,r),Object(i.a)(t,h,a),Object(i.a)(t,O,o),Object(i.a)(t,f,u),Object(i.a)(t,v,b),t),m=Object(c.useState)(),w=Object(s.a)(m,2),y=w[0],k=w[1],S=Object(c.useState)(x),U=Object(s.a)(S,2),A=U[0],N=U[1],C=Object(c.useState)(1),F=Object(s.a)(C,2),_=F[0],W=F[1],B=Object(c.useState)(0),J=Object(s.a)(B,2),E=J[0],T=J[1],L=Object(c.useState)(0),X=Object(s.a)(L,2),q=X[0],z=X[1],D=Object(c.useState)(""),I=Object(s.a)(D,2),P=I[0],R=I[1],M=Object(c.useState)(0),H=Object(s.a)(M,2),G=H[0],K=H[1],Q=Object(c.useState)(),V=Object(s.a)(Q,2),Y=V[0],Z=V[1];Object(c.useEffect)((function(){var e=setInterval(Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("FETCH"),e.next=3,p.get_table_rows({json:!0,code:"cpu4",scope:"cpu4",table:"config",limit:1,reverse:!1,show_payer:!1});case 3:return t=e.sent,e.next=6,p.get_table_rows({json:!0,code:"cpu4",scope:"cpu4",table:"deposits",limit:1e3,reverse:!1,show_payer:!1});case 6:n=e.sent,Z({r1:t,r2:n});case 8:case"end":return e.stop()}}),e)}))),5e3);return function(){return clearInterval(e)}}),[]),Object(c.useEffect)((function(){if(E&&E>0){var e=function(){var e=Object(j.a)(l.a.mark((function e(){var t,n,c,r,a,o,s,i,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{for(t=Y.r1,console.log(t.rows[0]),n=parseFloat(t.rows[0].exponent),c=parseFloat(t.rows[0].total_wax),r=parseFloat(t.rows[0].current_loaned),a=parseFloat(t.rows[0].multi_day_fee),E&&E>0&&((o=100*Math.pow(1-r/c,n))<10&&(o=10),s=o*(1-a*(_-1))*(E/_),console.log(s),z(s)),i=Y.r2,u=0;u<i.rows.length;u++)i.rows[u].account===y&&K(i.rows[u].wax)}catch(l){console.error(l),console.log(JSON.stringify(l))}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}else z(0)}),[E,_,Y]),Object(c.useEffect)((function(){var e=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.activeUser){e.next=12;break}return e.prev=1,e.next=4,p.get_account(n.activeUser.accountName);case 4:t=e.sent,k(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),console.log(JSON.stringify(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[n.activeUser]);var $=function(){n.activeUser||n.showModal()},ee=function(){return A===x?Object(d.jsx)("table",{style:{margin:"auto",borderSpacing:"12px 12px",textAlign:"left"},children:Object(d.jsxs)("tbody",{children:[ce(),ne(),oe()]})}):A===h?Object(d.jsx)("table",{style:{margin:"auto",borderSpacing:"12px 12px",textAlign:"left"},children:Object(d.jsxs)("tbody",{children:[ce(),ne(),te(),oe()]})}):A===O?Object(d.jsx)("table",{style:{margin:"auto",borderSpacing:"12px 12px",textAlign:"left"},children:Object(d.jsx)("tbody",{children:ce()})}):A===f?Object(d.jsx)("table",{style:{margin:"auto",borderSpacing:"12px 12px",textAlign:"left"},children:Object(d.jsx)("tbody",{children:re()})}):A===v?Object(d.jsx)("table",{style:{margin:"auto",borderSpacing:"12px 12px",textAlign:"left"},children:Object(d.jsx)("tbody",{children:ae()})}):void 0},te=function(){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{style:{textAlign:"right"},children:"User to stake to"}),Object(d.jsx)("td",{children:Object(d.jsx)("input",{style:{width:"120px"},type:"text",value:P,onChange:function(e){return R(e.target.value)}})})]})},ne=function(){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{style:{textAlign:"right"},children:"Number of days"}),Object(d.jsx)("td",{children:Object(d.jsxs)("select",{value:_,onChange:function(e){return W(e.target.value)},children:[Object(d.jsx)("option",{value:1,children:"1"}),Object(d.jsx)("option",{value:2,children:"2"}),Object(d.jsx)("option",{value:3,children:"3"}),Object(d.jsx)("option",{value:4,children:"4"}),Object(d.jsx)("option",{value:5,children:"5"}),Object(d.jsx)("option",{value:6,children:"6"}),Object(d.jsx)("option",{value:7,children:"7"}),Object(d.jsx)("option",{value:8,children:"8"}),Object(d.jsx)("option",{value:9,children:"9"}),Object(d.jsx)("option",{value:10,children:"10"}),Object(d.jsx)("option",{value:11,children:"11"}),Object(d.jsx)("option",{value:12,children:"12"}),Object(d.jsx)("option",{value:13,children:"13"}),Object(d.jsx)("option",{value:14,children:"14"})]})})]})},ce=function(){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{style:{textAlign:"right"},children:"Amount to send"}),Object(d.jsxs)("td",{children:[Object(d.jsx)("input",{style:{width:"60px"},type:"number",value:E,onChange:function(e){return T(e.target.value)}})," ","WAX"]})]})},re=function(){return Object(d.jsx)("tr",{})},ae=function(){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{style:{textAlign:"right"},children:"Amount to withdraw"}),Object(d.jsxs)("td",{children:[Object(d.jsx)("input",{style:{width:"60px"},type:"number",value:E,onChange:function(e){return T(e.target.value)}})," ","WAX"]})]})},oe=function(){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{style:{textAlign:"right"},children:"Amount to be staked"}),Object(d.jsxs)("td",{children:[q.toLocaleString()," WAX"]})]})},se=function(){return Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:function(){return g[A].call()},children:A})})};return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"CPU 4 SALE"}),n.activeUser&&n.activeUser&&y?Object(d.jsxs)("div",{children:[n.activeUser.accountName," ",Object(d.jsx)("br",{}),"Current Balance: ",y.core_liquid_balance,Object(d.jsx)("br",{})]}):null,n.activeUser&&n.activeUser&&y?Object(d.jsxs)("div",{children:["Deposited: ",G,Object(d.jsx)("br",{})]}):null,n.activeUser?function(){if(n.activeUser&&n.activeAuthenticator)return Object(d.jsxs)("div",{children:[Object(d.jsx)("br",{}),Object(d.jsx)("button",{onClick:n.logout,children:"Logout"}),Object(d.jsx)("br",{})]})}():Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{onClick:$,children:"Login"}),Object(d.jsx)("br",{})]}),n.activeUser?Object(d.jsxs)("div",{children:[Object(d.jsx)("br",{}),Object(d.jsxs)("select",{value:A,onChange:function(e){return N(e.target.value)},children:[Object(d.jsx)("option",{value:x,children:x}),Object(d.jsx)("option",{value:h,children:h}),Object(d.jsx)("option",{value:O,children:O}),Object(d.jsx)("option",{value:f,children:f}),Object(d.jsx)("option",{value:v,children:v})]}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),ee(),Object(d.jsx)("br",{}),se()]}):null,Object(d.jsx)("br",{}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"How it works:"}),Object(d.jsx)("h4",{children:"Requesting Wax:"}),Object(d.jsx)("p",{children:"1. Send wax"}),Object(d.jsx)("p",{children:"2. ????????"}),Object(d.jsx)("h4",{children:"Depositing Wax:"}),Object(d.jsx)("p",{children:"3. Get steak"})]})]})};var h=function(e){var t=e.ual;return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(x,{ual:t})})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,411)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))},f=n(104),v=n(188),g=n(191),m={chainId:"f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12",rpcEndpoints:[{protocol:"https",host:"testnet.wax.eosdetroit.io",port:"443"}]},w=new v.Anchor([m],{appName:"cpu4"}),y=new g.Wax([m],{appName:"cpu4"}),k=Object(f.withUAL)(h);o.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(f.UALProvider,{chains:[m],authenticators:[w,y],appName:"cpu4",children:Object(d.jsx)(k,{})})}),document.getElementById("root")),O()}},[[409,1,2]]]);
//# sourceMappingURL=main.af49ce4d.chunk.js.map