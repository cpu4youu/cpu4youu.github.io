(this.webpackJsonpcpu4youu=this.webpackJsonpcpu4youu||[]).push([[0],{198:function(e,t,n){},199:function(e,t,n){},285:function(e,t){},286:function(e,t){},288:function(e,t){},300:function(e,t){},306:function(e,t){},308:function(e,t){},318:function(e,t){},320:function(e,t){},347:function(e,t){},349:function(e,t){},354:function(e,t){},356:function(e,t){},362:function(e,t){},364:function(e,t){},376:function(e,t){},379:function(e,t){},409:function(e,t,n){"use strict";n.r(t);var c=n(12),r=n.n(c),a=n(103),o=n.n(a),i=(n(198),n(199),n(19)),s=n(42),u=n(6),l=n.n(u),j=n(10),b=n(185),p=n(9),d=new b.JsonRpc("https://testnet.wax.eosdetroit.io",{fetch:fetch}),x=function(e){var t,n=e.ual,r=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={actions:[{account:"eosio.token",name:"transfer",data:{from:n.activeUser.accountName,to:"cpu4",quantity:L+" WAX",memo:W+""},authorization:[{actor:n.activeUser.accountName,permission:"active"}]}]},e.prev=1,e.next=4,n.activeUser.signTransaction(t,{blocksBehind:5,expireSeconds:300,broadcast:!0,sign:!0});case 4:c=e.sent,console.log(c),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),console.log(JSON.stringify(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={actions:[{account:"eosio.token",name:"transfer",data:{from:n.activeUser.accountName,to:"cpu4",quantity:L+" WAX",memo:"USER:"+P+","+W},authorization:[{actor:n.activeUser.accountName,permission:"active"}]}]},e.prev=1,e.next=4,n.activeUser.signTransaction(t,{blocksBehind:5,expireSeconds:300,broadcast:!0,sign:!0});case 4:c=e.sent,console.log(c),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),console.log(JSON.stringify(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={actions:[{account:"eosio.token",name:"transfer",data:{from:n.activeUser.accountName,to:"cpu4",quantity:L+" WAX",memo:"Deposit"},authorization:[{actor:n.activeUser.accountName,permission:"active"}]}]},e.prev=1,e.next=4,n.activeUser.signTransaction(t,{blocksBehind:5,expireSeconds:300,broadcast:!0,sign:!0});case 4:c=e.sent,console.log(c),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),console.log(JSON.stringify(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={actions:[{account:"cpu4",name:"updateBalance",data:{username:n.activeUser.accountName},authorization:[{actor:n.activeUser.accountName,permission:"active"}]}]},e.prev=1,e.next=4,n.activeUser.signTransaction(t,{blocksBehind:5,expireSeconds:300,broadcast:!0,sign:!0});case 4:c=e.sent,console.log(c),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),console.log(JSON.stringify(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={actions:[{account:"cpu4",name:"withdraw",data:{username:n.activeUser.accountName,amount:L+" WAX"},authorization:[{actor:n.activeUser.accountName,permission:"active"}]}]},e.prev=1,e.next=4,n.activeUser.signTransaction(t,{blocksBehind:5,expireSeconds:300,broadcast:!0,sign:!0});case 4:c=e.sent,console.log(c),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),console.log(JSON.stringify(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),x="Request Self Stake",h="Stake To User",O="Deposit And Earn",f="Update Balance",v="Withdraw",g=(t={},Object(s.a)(t,x,r),Object(s.a)(t,h,a),Object(s.a)(t,O,o),Object(s.a)(t,f,u),Object(s.a)(t,v,b),t),m=Object(c.useState)(),w=Object(i.a)(m,2),y=w[0],k=w[1],S=Object(c.useState)(x),U=Object(i.a)(S,2),A=U[0],N=U[1],_=Object(c.useState)(1),C=Object(i.a)(_,2),W=C[0],J=C[1],B=Object(c.useState)(0),E=Object(i.a)(B,2),L=E[0],T=E[1],X=Object(c.useState)(0),q=Object(i.a)(X,2),z=q[0],I=q[1],D=Object(c.useState)(""),F=Object(i.a)(D,2),P=F[0],R=F[1],M=Object(c.useState)(1),G=Object(i.a)(M,2),H=G[0],K=G[1],Q=Object(c.useState)(),V=Object(i.a)(Q,2),Y=V[0],Z=V[1],$=Object(c.useState)(),ee=Object(i.a)($,2),te=ee[0],ne=ee[1],ce=Object(c.useState)(0),re=Object(i.a)(ce,2),ae=re[0],oe=re[1],ie=Object(c.useState)(0),se=Object(i.a)(ie,2),ue=se[0],le=se[1],je=function(){var e=Object(j.a)(l.a.mark((function e(){var t,n,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.get_table_rows({json:!0,code:"cpu4",scope:"cpu4",table:"config",limit:1,reverse:!1,show_payer:!1});case 3:if(t=e.sent,console.log(t.rows[0]),K(t.rows[0].exponent),Z(t.rows[0].total_wax),ne(t.rows[0].current_loaned),oe(t.rows[0].multi_day_fee),L&&L>0&&((n=100*(1-te/Y^H))<10&&(n=10),I(n*(1-ae*(W-1))*(L/W))),!y){e.next=15;break}return e.next=13,d.get_table_rows({json:!0,code:"cpu4",scope:"cpu4",table:"deposits",limit:1e3,reverse:!1,show_payer:!1});case 13:for(c=e.sent,r=0;r<c.rows.length;r++)c.rows[r].account===y&&le(c.rows[r].wax);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.error(e.t0),console.log(JSON.stringify(e.t0));case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=100*(1-te/Y^H))<10&&(t=10),I(t*(1-ae*(W-1))*(L/W));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){var e=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.activeUser){e.next=12;break}return e.prev=1,e.next=4,d.get_account(n.activeUser.accountName);case 4:t=e.sent,k(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),console.log(JSON.stringify(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[n.activeUser]),Object(c.useEffect)((function(){L&&L>0?be():I(0)}),[L]),Object(c.useEffect)((function(){var e=setInterval((function(){var e=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),5e3);return function(){return clearInterval(e)}}),[je]);var pe=function(){n.activeUser||n.showModal()},de=function(){return A===x?Object(p.jsx)("table",{style:{margin:"auto",borderSpacing:"12px 12px",textAlign:"left"},children:Object(p.jsxs)("tbody",{children:[Oe(),he(),ge()]})}):A===h?Object(p.jsx)("table",{style:{margin:"auto",borderSpacing:"12px 12px",textAlign:"left"},children:Object(p.jsxs)("tbody",{children:[Oe(),he(),xe(),ge()]})}):A===O?Object(p.jsx)("table",{style:{margin:"auto",borderSpacing:"12px 12px",textAlign:"left"},children:Object(p.jsx)("tbody",{children:Oe()})}):A===f?Object(p.jsx)("table",{style:{margin:"auto",borderSpacing:"12px 12px",textAlign:"left"},children:Object(p.jsx)("tbody",{children:fe()})}):A===v?Object(p.jsx)("table",{style:{margin:"auto",borderSpacing:"12px 12px",textAlign:"left"},children:Object(p.jsx)("tbody",{children:ve()})}):void 0},xe=function(){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{style:{textAlign:"right"},children:"User to stake to"}),Object(p.jsx)("td",{children:Object(p.jsx)("input",{style:{width:"120px"},type:"text",value:P,onChange:function(e){return R(e.target.value)}})})]})},he=function(){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{style:{textAlign:"right"},children:"Number of days"}),Object(p.jsx)("td",{children:Object(p.jsxs)("select",{value:W,onChange:function(e){return J(e.target.value)},children:[Object(p.jsx)("option",{value:1,children:"1"}),Object(p.jsx)("option",{value:2,children:"2"}),Object(p.jsx)("option",{value:3,children:"3"}),Object(p.jsx)("option",{value:4,children:"4"}),Object(p.jsx)("option",{value:5,children:"5"}),Object(p.jsx)("option",{value:6,children:"6"}),Object(p.jsx)("option",{value:7,children:"7"}),Object(p.jsx)("option",{value:8,children:"8"}),Object(p.jsx)("option",{value:9,children:"9"}),Object(p.jsx)("option",{value:10,children:"10"}),Object(p.jsx)("option",{value:11,children:"11"}),Object(p.jsx)("option",{value:12,children:"12"}),Object(p.jsx)("option",{value:13,children:"13"}),Object(p.jsx)("option",{value:14,children:"14"})]})})]})},Oe=function(){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{style:{textAlign:"right"},children:"Amount to send"}),Object(p.jsxs)("td",{children:[Object(p.jsx)("input",{style:{width:"60px"},type:"number",value:L,onChange:function(e){return T(e.target.value)}})," ","WAX"]})]})},fe=function(){return Object(p.jsx)("tr",{})},ve=function(){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{style:{textAlign:"right"},children:"Amount to withdraw"}),Object(p.jsxs)("td",{children:[Object(p.jsx)("input",{style:{width:"60px"},type:"number",value:L,onChange:function(e){return T(e.target.value)}})," ","WAX"]})]})},ge=function(){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{style:{textAlign:"right"},children:"Amount to be staked"}),Object(p.jsxs)("td",{children:[z.toLocaleString()," WAX"]})]})},me=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("button",{onClick:function(){return g[A].call()},children:A})})};return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"CPU 4 SALE"}),n.activeUser&&n.activeUser&&y?Object(p.jsxs)("div",{children:[n.activeUser.accountName," ",y.core_liquid_balance,Object(p.jsx)("br",{})]}):null,n.activeUser&&n.activeUser&&y?Object(p.jsxs)("div",{children:[ue,Object(p.jsx)("br",{})]}):null,n.activeUser?function(){if(n.activeUser&&n.activeAuthenticator)return Object(p.jsxs)("div",{children:[Object(p.jsx)("br",{}),Object(p.jsx)("button",{onClick:n.logout,children:"Logout"}),Object(p.jsx)("br",{})]})}():Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{onClick:pe,children:"Login"}),Object(p.jsx)("br",{})]}),n.activeUser?Object(p.jsxs)("div",{children:[Object(p.jsx)("br",{}),Object(p.jsxs)("select",{value:A,onChange:function(e){return N(e.target.value)},children:[Object(p.jsx)("option",{value:x,children:x}),Object(p.jsx)("option",{value:h,children:h}),Object(p.jsx)("option",{value:O,children:O}),Object(p.jsx)("option",{value:f,children:f}),Object(p.jsx)("option",{value:v,children:v})]}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),de(),Object(p.jsx)("br",{}),me()]}):null,Object(p.jsx)("br",{}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"How it works:"}),Object(p.jsx)("h4",{children:"Requesting Wax:"}),Object(p.jsx)("p",{children:"1. Send wax"}),Object(p.jsx)("p",{children:"2. ????????"}),Object(p.jsx)("h4",{children:"Depositing Wax:"}),Object(p.jsx)("p",{children:"3. Get steak"})]})]})};var h=function(e){var t=e.ual;return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(x,{ual:t})})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,411)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))},f=n(104),v=n(188),g=n(191),m={chainId:"f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12",rpcEndpoints:[{protocol:"https",host:"testnet.wax.eosdetroit.io",port:"443"}]},w=new v.Anchor([m],{appName:"cpu4"}),y=new g.Wax([m],{appName:"cpu4"}),k=Object(f.withUAL)(h);o.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(f.UALProvider,{chains:[m],authenticators:[w,y],appName:"cpu4",children:Object(p.jsx)(k,{})})}),document.getElementById("root")),O()}},[[409,1,2]]]);
//# sourceMappingURL=main.82dfc4bf.chunk.js.map